
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>API documentation &#8212; pytest_container  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Changelog" href="changelog.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-documentation">
<h1>API documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading">¶</a></h1>
<section id="module-pytest_container.container">
<span id="the-container-module"></span><h2>The container module<a class="headerlink" href="#module-pytest_container.container" title="Permalink to this heading">¶</a></h2>
<p>The container module contains all classes for abstracting the details of
launching containers away. These classes are used to parametrize test cases
using the fixtures provided by this plugin.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.BindMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">BindMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.VolumeFlag" title="pytest_container.container.VolumeFlag"><span class="pre">VolumeFlag</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_vol_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.BindMount" title="Permalink to this definition">¶</a></dt>
<dd><p>A volume mounted into a container from the host using bind mounts.</p>
<p>This class describes a bind mount of a host directory into a container. In
the most minimal configuration, all you need to specify is the path in the
container via <a class="reference internal" href="#pytest_container.container.ContainerVolumeBase.container_path" title="pytest_container.container.ContainerVolumeBase.container_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_path</span></code></a>. The
<code class="docutils literal notranslate"><span class="pre">container*</span></code> fixtures will then create a temporary directory on the host
for you that will be used as the mount point. Alternatively, you can also
specify the path on the host yourself via <a class="reference internal" href="#pytest_container.container.BindMount.host_path" title="pytest_container.container.BindMount.host_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">host_path</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.BindMount.host_path">
<span class="sig-name descname"><span class="pre">host_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.BindMount.host_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path on the host that will be mounted if absolute. if relative,
it refers to a volume to be auto-created. When omitted, a temporary
directory will be created and the path will be saved in this attribute.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.BindMountCreator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">BindMountCreator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.BindMount" title="pytest_container.container.BindMount"><span class="pre">BindMount</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tmpdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/tempfile.html#tempfile.TemporaryDirectory" title="(in Python v3.13)"><span class="pre">TemporaryDirectory</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.BindMountCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager that creates temporary directories for bind mounts (if
necessary, i.e. when <a class="reference internal" href="#pytest_container.container.BindMount.host_path" title="pytest_container.container.BindMount.host_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">BindMount.host_path</span></code></a> is <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.BindMountCreator.volume">
<span class="sig-name descname"><span class="pre">volume</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.BindMount" title="pytest_container.container.BindMount"><span class="pre">BindMount</span></a></em><a class="headerlink" href="#pytest_container.container.BindMountCreator.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>The bind mount which host path should be created</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.Container">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">Container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_id:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry_point:</span> <span class="pre">~pytest_container.container.EntrypointSelection</span> <span class="pre">=</span> <span class="pre">EntrypointSelection.AUTO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_entry_point:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_launch_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_entrypoint_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">healthcheck_timeout:</span> <span class="pre">~typing.Optional[~datetime.timedelta]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_environment_variables:</span> <span class="pre">~typing.Optional[~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">singleton:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forwarded_ports:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_mounts:</span> <span class="pre">~typing.List[~typing.Union[~pytest_container.container.ContainerVolume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~pytest_container.container.BindMount]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_is_local:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.Container" title="Permalink to this definition">¶</a></dt>
<dd><p>This class stores information about the Container Image under test.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.Container.baseurl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baseurl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.Container.baseurl" title="Permalink to this definition">¶</a></dt>
<dd><p>The registry url on which this container is based on, if one
exists. Otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.Container.get_base">
<span class="sig-name descname"><span class="pre">get_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a></span></span><a class="headerlink" href="#pytest_container.container.Container.get_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Base of this Container Image. If the container has no
base, then <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.Container.prepare_container">
<span class="sig-name descname"><span class="pre">prepare_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.container.Container.prepare_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the container so that it can be launched.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.Container.pull_container">
<span class="sig-name descname"><span class="pre">pull_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.container.Container.pull_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls the container with the given url using the currently selected
container runtime</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_id:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry_point:</span> <span class="pre">~pytest_container.container.EntrypointSelection</span> <span class="pre">=</span> <span class="pre">EntrypointSelection.AUTO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_entry_point:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_launch_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_entrypoint_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">healthcheck_timeout:</span> <span class="pre">~typing.Optional[~datetime.timedelta]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_environment_variables:</span> <span class="pre">~typing.Optional[~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">singleton:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forwarded_ports:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_mounts:</span> <span class="pre">~typing.List[~typing.Union[~pytest_container.container.ContainerVolume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~pytest_container.container.BindMount]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_is_local:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ContainerBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for defining containers to be tested. Not to be used directly,
instead use <a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or <a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.container_id">
<span class="sig-name descname"><span class="pre">container_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.container_id" title="Permalink to this definition">¶</a></dt>
<dd><p>id of the container if it is not available via a registry URL</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.custom_entry_point">
<span class="sig-name descname"><span class="pre">custom_entry_point</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.custom_entry_point" title="Permalink to this definition">¶</a></dt>
<dd><p>custom entry point for this container (i.e. neither its default, nor
<code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code>)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.entry_point">
<span class="sig-name descname"><span class="pre">entry_point</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.EntrypointSelection" title="pytest_container.container.EntrypointSelection"><span class="pre">EntrypointSelection</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.entry_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines which entrypoint of the container is used.
By default either <a class="reference internal" href="#pytest_container.container.ContainerBase.custom_entry_point" title="pytest_container.container.ContainerBase.custom_entry_point"><code class="xref py py-attr docutils literal notranslate"><span class="pre">custom_entry_point</span></code></a> will be used (if defined)
or the container’s entrypoint or cmd. If neither of the two is set, then
<code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> will be used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.extra_entrypoint_args">
<span class="sig-name descname"><span class="pre">extra_entrypoint_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.extra_entrypoint_args" title="Permalink to this definition">¶</a></dt>
<dd><p>List of additional arguments that are passed to the <code class="docutils literal notranslate"><span class="pre">CMD</span></code> or
entrypoint. These arguments are inserted after the <strong class="command">docker/podman
run -d $image</strong> on launching the image.
The list must be properly escaped, e.g. by passing the string through
<code class="docutils literal notranslate"><span class="pre">shlex.split</span></code>.
The arguments must not cause the container to exit early. It must remain
active in the background, otherwise this library will not function
properly.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.extra_environment_variables">
<span class="sig-name descname"><span class="pre">extra_environment_variables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.extra_environment_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>additional environment variables that should be injected into the
container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.extra_launch_args">
<span class="sig-name descname"><span class="pre">extra_launch_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.extra_launch_args" title="Permalink to this definition">¶</a></dt>
<dd><p>List of additional flags that will be inserted after
<cite>docker/podman run -d</cite> and before the image name (i.e. these arguments
are not passed to the entrypoint or <code class="docutils literal notranslate"><span class="pre">CMD</span></code>). The list must be properly
escaped, e.g. as created by <code class="docutils literal notranslate"><span class="pre">shlex.split</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.filelock_filename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filelock_filename</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerBase.filelock_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Filename of a lockfile unique to the container image under test.</p>
<p>It is a hash of the properties of this class excluding all values that
are set after the container is launched. Thereby, this filename can be
used to acquire a lock blocking any action using this specific container
image across threads/processes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.forwarded_ports">
<span class="sig-name descname"><span class="pre">forwarded_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.forwarded_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>forwarded ports of this container</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.get_launch_cmd">
<span class="sig-name descname"><span class="pre">get_launch_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_run_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.ContainerBase.get_launch_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the command to launch this container image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extra_run_args</strong> – optional list of arguments that are added to the
launch command directly after the <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">-d</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The command to launch the container image described by this class
instance as a list of strings that can be fed directly to
<a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">subprocess.Popen</span></code></a> as the <code class="docutils literal notranslate"><span class="pre">args</span></code> parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.healthcheck_timeout">
<span class="sig-name descname"><span class="pre">healthcheck_timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.healthcheck_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Time for the container to become healthy (the timeout is ignored
when the container image defines no <code class="docutils literal notranslate"><span class="pre">HEALTHCHECK</span></code> or when the timeout
is below zero).
When the value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the timeout will be inferred from the
container image’s <code class="docutils literal notranslate"><span class="pre">HEALTHCHECK</span></code> directive.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.local_image">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">local_image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerBase.local_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if this image has been build locally and has not been
pulled from a registry.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.singleton">
<span class="sig-name descname"><span class="pre">singleton</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.singleton" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether there must never be more than one running container of
this type at all times (e.g. because it opens a shared port).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.url">
<span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Full url to this container via which it can be pulled</p>
<p>If your container image is not available via a registry and only locally,
then you can use the following syntax: <code class="docutils literal notranslate"><span class="pre">containers-storage:$local_name</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBase.volume_mounts">
<span class="sig-name descname"><span class="pre">volume_mounts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerVolume" title="pytest_container.container.ContainerVolume"><span class="pre">ContainerVolume</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.BindMount" title="pytest_container.container.BindMount"><span class="pre">BindMount</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerBase.volume_mounts" title="Permalink to this definition">¶</a></dt>
<dd><p>optional list of volumes that should be mounted in this container</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBaseABC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerBaseABC</span></span><a class="headerlink" href="#pytest_container.container.ContainerBaseABC" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class defining the methods that must be implemented by the
classes fed to the <code class="docutils literal notranslate"><span class="pre">*container*</span></code> fixtures.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBaseABC.baseurl">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baseurl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerBaseABC.baseurl" title="Permalink to this definition">¶</a></dt>
<dd><p>The registry url on which this container is based on, if one
exists. Otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBaseABC.get_base">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.ContainerBaseABC.get_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Base of this Container Image. If the container has no
base, then <code class="docutils literal notranslate"><span class="pre">self</span></code> is returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerBaseABC.prepare_container">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prepare_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.container.ContainerBaseABC.prepare_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the container so that it can be launched.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_url_or_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forwarded_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ContainerData" title="Permalink to this definition">¶</a></dt>
<dd><p>Class returned by the <code class="docutils literal notranslate"><span class="pre">*container*</span></code> fixtures to the test function. It
contains information about the launched container and the testinfra
<a class="reference internal" href="#pytest_container.container.ContainerData.connection" title="pytest_container.container.ContainerData.connection"><code class="xref py py-attr docutils literal notranslate"><span class="pre">connection</span></code></a> to the running container.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.connection">
<span class="sig-name descname"><span class="pre">connection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerData.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>the testinfra connection to the running container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.container">
<span class="sig-name descname"><span class="pre">container</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerData.container" title="Permalink to this definition">¶</a></dt>
<dd><p>the container data class that has been used in this test</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.container_id">
<span class="sig-name descname"><span class="pre">container_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerData.container_id" title="Permalink to this definition">¶</a></dt>
<dd><p>ID of the started container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.forwarded_ports">
<span class="sig-name descname"><span class="pre">forwarded_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerData.forwarded_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>any ports that are exposed by this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.image_url_or_id">
<span class="sig-name descname"><span class="pre">image_url_or_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerData.image_url_or_id" title="Permalink to this definition">¶</a></dt>
<dd><p>url to the container image on the registry or the id of the local image
if the container has been build locally</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.inspect">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inspect</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><span class="pre">ContainerInspect</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerData.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspect the launched container and return the result of
<strong class="command">$runtime inspect $ctr_id</strong>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerData.read_container_logs">
<span class="sig-name descname"><span class="pre">read_container_logs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#pytest_container.container.ContainerData.read_container_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the logs from the running container.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerLauncher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">container:</span> <span class="pre">~typing.Union[~pytest_container.container.Container,</span> <span class="pre">~pytest_container.container.DerivedContainer],</span> <span class="pre">container_runtime:</span> <span class="pre">~pytest_container.runtime.OciRuntimeBase,</span> <span class="pre">rootdir:</span> <span class="pre">~pathlib.Path,</span> <span class="pre">extra_build_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">extra_run_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">container_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'',</span> <span class="pre">_expose_ports:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">_new_port_forwards:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">_container_id:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">_stack:</span> <span class="pre">~contextlib.ExitStack</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;,</span> <span class="pre">_cidfile:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ContainerLauncher" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper context manager to setup, start and teardown a container including
all of its resources. It is used by the <code class="docutils literal notranslate"><span class="pre">*container*</span></code> fixtures.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.container">
<span class="sig-name descname"><span class="pre">container</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.container" title="Permalink to this definition">¶</a></dt>
<dd><p>The container that will be launched</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.container_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">container_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.container_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerData</span></code></a> instance corresponding to the running
container. This property is only valid after the context manager has
been “entered” via a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.container_name">
<span class="sig-name descname"><span class="pre">container_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.container_name" title="Permalink to this definition">¶</a></dt>
<dd><p>optional name of this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.container_runtime">
<span class="sig-name descname"><span class="pre">container_runtime</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.container_runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>The container runtime via which the container will be launched</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.extra_build_args">
<span class="sig-name descname"><span class="pre">extra_build_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.extra_build_args" title="Permalink to this definition">¶</a></dt>
<dd><p>additional arguments to pass to the container build commands</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.extra_run_args">
<span class="sig-name descname"><span class="pre">extra_run_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.extra_run_args" title="Permalink to this definition">¶</a></dt>
<dd><p>additional arguments to pass to the container run commands</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.from_pytestconfig">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pytestconfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.container.ContainerLauncher" title="pytest_container.container.ContainerLauncher"><span class="pre">ContainerLauncher</span></a></span></span><a class="headerlink" href="#pytest_container.container.ContainerLauncher.from_pytestconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor of <a class="reference internal" href="#pytest_container.container.ContainerLauncher" title="pytest_container.container.ContainerLauncher"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerLauncher</span></code></a> that obtains the
attributes <a class="reference internal" href="#pytest_container.container.ContainerLauncher.rootdir" title="pytest_container.container.ContainerLauncher.rootdir"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rootdir</span></code></a>, <a class="reference internal" href="#pytest_container.container.ContainerLauncher.extra_build_args" title="pytest_container.container.ContainerLauncher.extra_build_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_build_args</span></code></a> and
<a class="reference internal" href="#pytest_container.container.ContainerLauncher.extra_run_args" title="pytest_container.container.ContainerLauncher.extra_run_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_run_args</span></code></a> from the pytest configuration object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.launch_container">
<span class="sig-name descname"><span class="pre">launch_container</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.container.ContainerLauncher.launch_container" title="Permalink to this definition">¶</a></dt>
<dd><p>This function performs the actual heavy lifting of launching the
container, creating all the volumes, port bindings, etc.pp.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerLauncher.rootdir">
<span class="sig-name descname"><span class="pre">rootdir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerLauncher.rootdir" title="Permalink to this definition">¶</a></dt>
<dd><p>root directory of the pytest testsuite</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolume">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerVolume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.VolumeFlag" title="pytest_container.container.VolumeFlag"><span class="pre">VolumeFlag</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_vol_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ContainerVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>A container volume created by the container runtime for persisting files
outside of (ephemeral) containers.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolume.volume_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerVolume.volume_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique ID of the volume. It is automatically set when the volume is
created by <a class="reference internal" href="#pytest_container.container.VolumeCreator" title="pytest_container.container.VolumeCreator"><code class="xref py py-class docutils literal notranslate"><span class="pre">VolumeCreator</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolumeBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ContainerVolumeBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.VolumeFlag" title="pytest_container.container.VolumeFlag"><span class="pre">VolumeFlag</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_vol_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ContainerVolumeBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for container volumes.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolumeBase.cli_arg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cli_arg</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerVolumeBase.cli_arg" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line argument to mount this volume.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolumeBase.container_path">
<span class="sig-name descname"><span class="pre">container_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.container.ContainerVolumeBase.container_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path inside the container where this volume will be mounted</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolumeBase.flags">
<span class="sig-name descname"><span class="pre">flags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.VolumeFlag" title="pytest_container.container.VolumeFlag"><span class="pre">VolumeFlag</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.ContainerVolumeBase.flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Flags for mounting this volume.</p>
<p>Note that some flags are mutually exclusive and potentially not supported
by all container runtimes.</p>
<p>The <a class="reference internal" href="#pytest_container.container.VolumeFlag.SELINUX_PRIVATE" title="pytest_container.container.VolumeFlag.SELINUX_PRIVATE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">VolumeFlag.SELINUX_PRIVATE</span></code></a> flag will be added by default
if flags is <code class="docutils literal notranslate"><span class="pre">None</span></code>, unless <a class="reference internal" href="#pytest_container.container.ContainerVolumeBase.shared" title="pytest_container.container.ContainerVolumeBase.shared"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ContainerVolumeBase.shared</span></code></a> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>, then <a class="reference internal" href="#pytest_container.container.VolumeFlag.SELINUX_SHARED" title="pytest_container.container.VolumeFlag.SELINUX_SHARED"><code class="xref py py-attr docutils literal notranslate"><span class="pre">VolumeFlag.SELINUX_SHARED</span></code></a> is added.</p>
<p>If flags is a list (even an empty one), then no flags are added.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ContainerVolumeBase.shared">
<span class="sig-name descname"><span class="pre">shared</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#pytest_container.container.ContainerVolumeBase.shared" title="Permalink to this definition">¶</a></dt>
<dd><p>Define whether this volume should can be shared between
containers. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>This affects only the addition of SELinux flags to
<a class="reference internal" href="#pytest_container.container.ContainerVolumeBase.flags" title="pytest_container.container.ContainerVolumeBase.flags"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flags</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">DerivedContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_id:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry_point:</span> <span class="pre">~pytest_container.container.EntrypointSelection</span> <span class="pre">=</span> <span class="pre">EntrypointSelection.AUTO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_entry_point:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_launch_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_entrypoint_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">healthcheck_timeout:</span> <span class="pre">~typing.Optional[~datetime.timedelta]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_environment_variables:</span> <span class="pre">~typing.Optional[~typing.Dict[str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">singleton:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forwarded_ports:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_mounts:</span> <span class="pre">~typing.List[~typing.Union[~pytest_container.container.ContainerVolume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~pytest_container.container.BindMount]]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_is_local:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base:</span> <span class="pre">~typing.Union[~pytest_container.container.Container</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">~pytest_container.container.DerivedContainer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">containerfile:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_format:</span> <span class="pre">~typing.Optional[~pytest_container.container.ImageFormat]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_build_tags:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.DerivedContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for storing information about the Container Image under test, that
is build from a <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code>/<code class="file docutils literal notranslate"><span class="pre">Dockerfile</span></code> from a different
image (can be any image from a registry or an instance of
<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or <a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a>).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.add_build_tags">
<span class="sig-name descname"><span class="pre">add_build_tags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.DerivedContainer.add_build_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional build tags/names that should be added to the container once it
has been built</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.base">
<span class="sig-name descname"><span class="pre">base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.container.DerivedContainer.base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.baseurl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baseurl</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.container.DerivedContainer.baseurl" title="Permalink to this definition">¶</a></dt>
<dd><p>The registry url on which this container is based on, if one
exists. Otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.containerfile">
<span class="sig-name descname"><span class="pre">containerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.container.DerivedContainer.containerfile" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> that is used to build this container derived
from <a class="reference internal" href="#pytest_container.container.DerivedContainer.base" title="pytest_container.container.DerivedContainer.base"><code class="xref py py-attr docutils literal notranslate"><span class="pre">base</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.get_base">
<span class="sig-name descname"><span class="pre">get_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.DerivedContainer.get_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base of this derived container.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.image_format">
<span class="sig-name descname"><span class="pre">image_format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ImageFormat" title="pytest_container.container.ImageFormat"><span class="pre">ImageFormat</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.container.DerivedContainer.image_format" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional image format when building images with <strong class="command">buildah</strong>. It
is ignored when the container runtime is <strong class="command">docker</strong>.
The <code class="docutils literal notranslate"><span class="pre">oci</span></code> image format is used by default. If the image format is
<code class="docutils literal notranslate"><span class="pre">None</span></code> and the base image has a <code class="docutils literal notranslate"><span class="pre">HEALTHCHECK</span></code> defined, then the
<code class="docutils literal notranslate"><span class="pre">docker</span></code> image format will be used instead.
Specifying an image format disables the auto-detection and uses the
supplied value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.container.DerivedContainer.prepare_container">
<span class="sig-name descname"><span class="pre">prepare_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.container.DerivedContainer.prepare_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the container so that it can be launched.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.EntrypointSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">EntrypointSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.EntrypointSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>Choices how the entrypoint of a container is picked.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.EntrypointSelection.AUTO">
<span class="sig-name descname"><span class="pre">AUTO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pytest_container.container.EntrypointSelection.AUTO" title="Permalink to this definition">¶</a></dt>
<dd><p>If <a class="reference internal" href="#pytest_container.container.ContainerBase.custom_entry_point" title="pytest_container.container.ContainerBase.custom_entry_point"><code class="xref py py-attr docutils literal notranslate"><span class="pre">custom_entry_point</span></code></a> is set, then that value
is used. Otherwise the container images entrypoint or cmd is used if it
defines one, or else <code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> is used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.EntrypointSelection.BASH">
<span class="sig-name descname"><span class="pre">BASH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#pytest_container.container.EntrypointSelection.BASH" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="file docutils literal notranslate"><span class="pre">/bin/bash</span></code> is used as the entry point</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.EntrypointSelection.IMAGE">
<span class="sig-name descname"><span class="pre">IMAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#pytest_container.container.EntrypointSelection.IMAGE" title="Permalink to this definition">¶</a></dt>
<dd><p>The images’ entrypoint or the default from the container runtime is used</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.ImageFormat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">ImageFormat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.ImageFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Image formats supported by buildah.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ImageFormat.DOCKER">
<span class="sig-name descname"><span class="pre">DOCKER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'docker'</span></em><a class="headerlink" href="#pytest_container.container.ImageFormat.DOCKER" title="Permalink to this definition">¶</a></dt>
<dd><p>Docker’s default image format that supports additional properties, like
<code class="docutils literal notranslate"><span class="pre">HEALTHCHECK</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.ImageFormat.OCIv1">
<span class="sig-name descname"><span class="pre">OCIv1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'oci'</span></em><a class="headerlink" href="#pytest_container.container.ImageFormat.OCIv1" title="Permalink to this definition">¶</a></dt>
<dd><p>The default OCIv1 image format.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.VolumeCreator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">VolumeCreator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.ContainerVolume" title="pytest_container.container.ContainerVolume"><span class="pre">ContainerVolume</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.VolumeCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager to create and remove a <a class="reference internal" href="#pytest_container.container.ContainerVolume" title="pytest_container.container.ContainerVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerVolume</span></code></a>.</p>
<p>This context manager creates a volume using the supplied
<a class="reference internal" href="#pytest_container.container.VolumeCreator.container_runtime" title="pytest_container.container.VolumeCreator.container_runtime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_runtime</span></code></a> When the <code class="docutils literal notranslate"><span class="pre">with</span></code> block is entered and removes
it once it is exited.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeCreator.container_runtime">
<span class="sig-name descname"><span class="pre">container_runtime</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></em><a class="headerlink" href="#pytest_container.container.VolumeCreator.container_runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>The container runtime, via which the volume is created &amp; destroyed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeCreator.volume">
<span class="sig-name descname"><span class="pre">volume</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.ContainerVolume" title="pytest_container.container.ContainerVolume"><span class="pre">ContainerVolume</span></a></em><a class="headerlink" href="#pytest_container.container.VolumeCreator.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume to be created</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">VolumeFlag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.container.VolumeFlag" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported flags for mounting container volumes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.CHOWN_USER">
<span class="sig-name descname"><span class="pre">CHOWN_USER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'U'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.CHOWN_USER" title="Permalink to this definition">¶</a></dt>
<dd><p>chown the content of the volume for rootless runs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.NOEXEC">
<span class="sig-name descname"><span class="pre">NOEXEC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'noexec'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.NOEXEC" title="Permalink to this definition">¶</a></dt>
<dd><p>ensure the volume is mounted as noexec (data only)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.OVERLAY">
<span class="sig-name descname"><span class="pre">OVERLAY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'O'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.OVERLAY" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume is mounted as a temporary storage using overlay-fs (only
supported by <strong class="command">podman</strong>)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.READ_ONLY">
<span class="sig-name descname"><span class="pre">READ_ONLY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ro'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.READ_ONLY" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume is mounted read-only</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.READ_WRITE">
<span class="sig-name descname"><span class="pre">READ_WRITE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'rw'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.READ_WRITE" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume is mounted read-write (default)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.SELINUX_PRIVATE">
<span class="sig-name descname"><span class="pre">SELINUX_PRIVATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Z'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.SELINUX_PRIVATE" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume is relabeled so that only a single container can access it</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.container.VolumeFlag.SELINUX_SHARED">
<span class="sig-name descname"><span class="pre">SELINUX_SHARED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'z'</span></em><a class="headerlink" href="#pytest_container.container.VolumeFlag.SELINUX_SHARED" title="Permalink to this definition">¶</a></dt>
<dd><p>The volume is relabeled so that it can be shared by two containers</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.container_and_marks_from_pytest_param">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">container_and_marks_from_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctr_or_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.container_and_marks_from_pytest_param" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">container_and_marks_from_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctr_or_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">container_and_marks_from_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctr_or_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_pytest.mark.ParameterSet</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Collection</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">_pytest.mark.MarkDecorator</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_pytest.mark.Mark</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span></dt>
<dd><p>Extracts the <a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a> and the
corresponding marks from a <a class="reference external" href="https://docs.pytest.org/en/stable/reference.html?#pytest.param">pytest.param</a> and
returns both.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">param</span></code> is either a <a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a>
or a <a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a>, then param is
returned directly and the second return value is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.container_from_pytest_param">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">container_from_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ParameterSet</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.container_from_pytest_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the <a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a> from a
<a class="reference external" href="https://docs.pytest.org/en/stable/reference.html?#pytest.param">pytest.param</a> or just
returns the value directly, if it is either a
<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or a
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a>.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.4.0: </span>This will be removed in 0.5.0. use container_and_marks_from_pytest_param instead</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.container_to_pytest_param">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">container_to_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.ContainerBase" title="pytest_container.container.ContainerBase"><span class="pre">ContainerBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">marks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.13)"><span class="pre">Collection</span></a><span class="p"><span class="pre">[</span></span><span class="pre">MarkDecorator</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">MarkDecorator</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ParameterSet</span></span></span><a class="headerlink" href="#pytest_container.container.container_to_pytest_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a subclass of <a class="reference internal" href="#pytest_container.container.ContainerBase" title="pytest_container.container.ContainerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerBase</span></code></a>
(<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a>) into a
<a class="reference external" href="https://docs.pytest.org/en/stable/reference.html?#pytest.param">pytest.param</a> with the
given marks and sets the id of the parameter to the pretty printed version
of the container (i.e. its
<a class="reference internal" href="#pytest_container.container.ContainerBase.url" title="pytest_container.container.ContainerBase.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a> or
<a class="reference internal" href="#pytest_container.container.ContainerBase.container_id" title="pytest_container.container.ContainerBase.container_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_id</span></code></a>)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.create_host_port_port_forward">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">create_host_port_port_forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port_forwards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.container.create_host_port_port_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of port_forwards, this function finds random free ports on
the host system to which the container ports can be bound and returns a new
list of appropriately configured
<a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><code class="xref py py-class docutils literal notranslate"><span class="pre">PortForwarding</span></code></a> instances.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.get_volume_creator">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">get_volume_creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.ContainerVolume" title="pytest_container.container.ContainerVolume"><span class="pre">ContainerVolume</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.container.VolumeCreator" title="pytest_container.container.VolumeCreator"><span class="pre">VolumeCreator</span></a></span></span><a class="headerlink" href="#pytest_container.container.get_volume_creator" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">get_volume_creator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.container.BindMount" title="pytest_container.container.BindMount"><span class="pre">BindMount</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.container.BindMountCreator" title="pytest_container.container.BindMountCreator"><span class="pre">BindMountCreator</span></a></span></span></dt>
<dd><p>Returns the appropriate volume creation context manager for the given
volume.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.container.lock_host_port_search">
<span class="sig-prename descclassname"><span class="pre">pytest_container.container.</span></span><span class="sig-name descname"><span class="pre">lock_host_port_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">BaseFileLock</span></span></span><a class="headerlink" href="#pytest_container.container.lock_host_port_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a filelock for finding free ports on the host.</p>
</dd></dl>

</section>
<section id="module-pytest_container.pod">
<span id="the-pod-module"></span><h2>The pod module<a class="headerlink" href="#module-pytest_container.pod" title="Permalink to this heading">¶</a></h2>
<p>Module for managing podman pods.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.pod.Pod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.pod.</span></span><span class="sig-name descname"><span class="pre">Pod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">containers:</span> <span class="pre">~typing.List[~typing.Union[~pytest_container.container.DerivedContainer,</span> <span class="pre">~pytest_container.container.Container]],</span> <span class="pre">forwarded_ports:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.pod.Pod" title="Permalink to this definition">¶</a></dt>
<dd><p>A pod is a collection of containers that share the same network and port
forwards. Currently only <strong class="command">podman</strong> supports creating pods.</p>
<p><strong>Caution</strong>: port forwards of the individual containers are ignored and only
the port forwards in the pod class are taken into account!</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.Pod.containers">
<span class="sig-name descname"><span class="pre">containers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.Pod.containers" title="Permalink to this definition">¶</a></dt>
<dd><p>containers belonging to the pod</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.Pod.forwarded_ports">
<span class="sig-name descname"><span class="pre">forwarded_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.Pod.forwarded_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>ports exposed by the pod</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.pod.PodData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.pod.</span></span><span class="sig-name descname"><span class="pre">PodData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pod_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">infra_container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">forwarded_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.pod.PodData" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that is returned by the <code class="docutils literal notranslate"><span class="pre">pod</span></code> and <code class="docutils literal notranslate"><span class="pre">pod_per_test</span></code> fixtures. It
contains all necessary information about the created pod and the containers
running inside it.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodData.container_data">
<span class="sig-name descname"><span class="pre">container_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.PodData.container_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerData</span></code></a> instances of
each container in the pod.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodData.forwarded_ports">
<span class="sig-name descname"><span class="pre">forwarded_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.PodData.forwarded_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>ports exposed by this pod</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodData.infra_container_id">
<span class="sig-name descname"><span class="pre">infra_container_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.pod.PodData.infra_container_id" title="Permalink to this definition">¶</a></dt>
<dd><p>unique id/hash of the infra container of the pod</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodData.pod">
<span class="sig-name descname"><span class="pre">pod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a></em><a class="headerlink" href="#pytest_container.pod.PodData.pod" title="Permalink to this definition">¶</a></dt>
<dd><p>The actual pod that has been launched</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodData.pod_id">
<span class="sig-name descname"><span class="pre">pod_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.pod.PodData.pod_id" title="Permalink to this definition">¶</a></dt>
<dd><p>unique id/hash of the running pod</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.pod.</span></span><span class="sig-name descname"><span class="pre">PodLauncher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pod:</span> <span class="pre">~pytest_container.pod.Pod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir:</span> <span class="pre">~pathlib.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pod_name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_run_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_pod_create_args:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_launchers:</span> <span class="pre">~typing.List[~pytest_container.container.ContainerLauncher]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_new_port_forwards:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_pod_id:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_infra_container_id:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_stack:</span> <span class="pre">~contextlib.ExitStack</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.pod.PodLauncher" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager that creates, starts and destroys a pod with all of its
containers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.extra_build_args">
<span class="sig-name descname"><span class="pre">extra_build_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.extra_build_args" title="Permalink to this definition">¶</a></dt>
<dd><p>additional arguments to pass to the container build commands</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.extra_pod_create_args">
<span class="sig-name descname"><span class="pre">extra_pod_create_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.extra_pod_create_args" title="Permalink to this definition">¶</a></dt>
<dd><p>additional arguments to pass to the <code class="docutils literal notranslate"><span class="pre">pod</span> <span class="pre">create</span></code> command</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.extra_run_args">
<span class="sig-name descname"><span class="pre">extra_run_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.extra_run_args" title="Permalink to this definition">¶</a></dt>
<dd><p>additional arguments to pass to the container run commands</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.from_pytestconfig">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_pytestconfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pod_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.pod.PodLauncher" title="pytest_container.pod.PodLauncher"><span class="pre">PodLauncher</span></a></span></span><a class="headerlink" href="#pytest_container.pod.PodLauncher.from_pytestconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor of <a class="reference internal" href="#pytest_container.pod.PodLauncher" title="pytest_container.pod.PodLauncher"><code class="xref py py-class docutils literal notranslate"><span class="pre">PodLauncher</span></code></a> that obtains the attributes
<a class="reference internal" href="#pytest_container.pod.PodLauncher.rootdir" title="pytest_container.pod.PodLauncher.rootdir"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rootdir</span></code></a>, <a class="reference internal" href="#pytest_container.pod.PodLauncher.extra_build_args" title="pytest_container.pod.PodLauncher.extra_build_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_build_args</span></code></a>,
<a class="reference internal" href="#pytest_container.pod.PodLauncher.extra_run_args" title="pytest_container.pod.PodLauncher.extra_run_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_run_args</span></code></a> and <a class="reference internal" href="#pytest_container.pod.PodLauncher.extra_pod_create_args" title="pytest_container.pod.PodLauncher.extra_pod_create_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">extra_pod_create_args</span></code></a> from the
pytest configuration object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.launch_pod">
<span class="sig-name descname"><span class="pre">launch_pod</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.pod.PodLauncher.launch_pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the actual pod, establishes the port bindings and launches
all containers in the pod.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.pod">
<span class="sig-name descname"><span class="pre">pod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.pod" title="Permalink to this definition">¶</a></dt>
<dd><p>the pod that should be created and launched including all of its
containers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.pod_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pod_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.pod.PodData" title="pytest_container.pod.PodData"><span class="pre">PodData</span></a></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.pod_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#pytest_container.pod.PodData" title="pytest_container.pod.PodData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PodData</span></code></a> corresponding to this podman pod.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.pod_name">
<span class="sig-name descname"><span class="pre">pod_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.pod_name" title="Permalink to this definition">¶</a></dt>
<dd><p>optional name of the pod</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.pod.PodLauncher.rootdir">
<span class="sig-name descname"><span class="pre">rootdir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></em><a class="headerlink" href="#pytest_container.pod.PodLauncher.rootdir" title="Permalink to this definition">¶</a></dt>
<dd><p>root directory of the pytest testsuite</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.pod.infra_container_id_from_pod_inspect">
<span class="sig-prename descclassname"><span class="pre">pytest_container.pod.</span></span><span class="sig-name descname"><span class="pre">infra_container_id_from_pod_inspect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inspect_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.13)"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#pytest_container.pod.infra_container_id_from_pod_inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the output of <strong class="command">podman pod inspect $id</strong>, return the id of
the infra container.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.pod.pod_from_pytest_param">
<span class="sig-prename descclassname"><span class="pre">pytest_container.pod.</span></span><span class="sig-name descname"><span class="pre">pod_from_pytest_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><span class="pre">ParameterSet</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><span class="pre">Pod</span></a></span></span><a class="headerlink" href="#pytest_container.pod.pod_from_pytest_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the <a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a> from a <a class="reference external" href="https://docs.pytest.org/en/stable/reference.html?#pytest.param">pytest.param</a> or just
returns the value directly, if it is a
<a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a>.</p>
</dd></dl>

</section>
<section id="module-pytest_container.build">
<span id="the-build-module"></span><h2>The build module<a class="headerlink" href="#module-pytest_container.build" title="Permalink to this heading">¶</a></h2>
<p>The build module contains helper classes for building from git repositories
via <a class="reference internal" href="#pytest_container.build.GitRepositoryBuild" title="pytest_container.build.GitRepositoryBuild"><code class="xref py py-class docutils literal notranslate"><span class="pre">GitRepositoryBuild</span></code></a> and to perform multistage containerfile
builds via <a class="reference internal" href="#pytest_container.build.MultiStageBuild" title="pytest_container.build.MultiStageBuild"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiStageBuild</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.build.</span></span><span class="sig-name descname"><span class="pre">GitRepositoryBuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repository_url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repository_tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Test information storage for running builds using an external git
repository. It is a required parameter for the <cite>container_git_clone</cite> and
<cite>host_git_clone</cite> fixtures.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.build_command">
<span class="sig-name descname"><span class="pre">build_command</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.build_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to run a “build” of the git repository inside a working
copy.
It can be left empty on purpose.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.clone_command">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clone_command</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.clone_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Command to clone the repository at the appropriate tag</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.repo_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">repo_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.repo_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the directory to which the repository will be checked out</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.repository_tag">
<span class="sig-name descname"><span class="pre">repository_tag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.repository_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>an optional tag at which the repository should be checked out instead of
using the default branch</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.repository_url">
<span class="sig-name descname"><span class="pre">repository_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.repository_url" title="Permalink to this definition">¶</a></dt>
<dd><p>url of the git repository, can end with .git</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.build.GitRepositoryBuild.test_command">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_command</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.build.GitRepositoryBuild.test_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The full test command, including build_command and a cd into the
correct folder.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.build.</span></span><span class="sig-name descname"><span class="pre">MultiStageBuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">containerfile_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">containers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParameterSet</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.build.MultiStageBuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper class to perform multi-stage container builds using the
<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> and
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a> classes.</p>
<p>This class is essentially just a very simple helper that will replace all
variables in <a class="reference internal" href="#pytest_container.build.MultiStageBuild.containerfile_template" title="pytest_container.build.MultiStageBuild.containerfile_template"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containerfile_template</span></code></a> with the correct container
ids, urls or names from the containers in <a class="reference internal" href="#pytest_container.build.MultiStageBuild.containers" title="pytest_container.build.MultiStageBuild.containers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containers</span></code></a>.</p>
<p>For example the following class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MultiStageBuild</span><span class="p">(</span>
    <span class="n">containers</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;builder&quot;</span><span class="p">:</span> <span class="n">Container</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;registry.opensuse.org/opensuse/busybox:latest&quot;</span><span class="p">),</span>
        <span class="s2">&quot;runner1&quot;</span><span class="p">:</span> <span class="s2">&quot;docker.io/alpine&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">containerfile_template</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;FROM $builder as builder</span>

<span class="s1">FROM $runner1 as runner1</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>would yield the following <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code>:</p>
<div class="highlight-Dockerfile notranslate"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">registry.opensuse.org/opensuse/busybox:latest</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">builder</span>

<span class="k">FROM</span><span class="w"> </span><span class="s">docker.io/alpine</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">runner1</span>
</pre></div>
</div>
<p>The resulting object can either be used to retrieve the rendered
<code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> or to build the containers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">id_of_runner1</span> <span class="o">=</span> <span class="n">MULTI_STAGE_BUILD</span><span class="o">.</span><span class="n">build</span><span class="p">(</span>
    <span class="n">tmp_path</span><span class="p">,</span> <span class="n">pytestconfig</span><span class="p">,</span> <span class="n">container_runtime</span><span class="p">,</span> <span class="s2">&quot;runner1&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">tmp_path</span></code> and <code class="docutils literal notranslate"><span class="pre">pytestconfig</span></code> are the pytest fixtures and
<code class="docutils literal notranslate"><span class="pre">container_runtime</span></code> is an instance of a child class of
<a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">OciRuntimeBase</span></code></a>. For further details,
see <a class="reference internal" href="#pytest_container.build.MultiStageBuild.build" title="pytest_container.build.MultiStageBuild.build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">build()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.build">
<span class="sig-name descname"><span class="pre">build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir_or_pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Config</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#pytest_container.build.MultiStageBuild.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the complete multistage build to an optional target.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmp_path</strong> – temporary directory into which the <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> is
written and where the build is performed. This value can be
provided via the <a class="reference external" href="https://docs.pytest.org/en/latest/how-to/tmp_path.html">tmp_path pytest fixture</a></p></li>
<li><p><strong>rootdir_or_pytestconfig</strong> – root directory of the current test suite or
a <a class="reference external" href="https://docs.pytest.org/en/latest/reference/reference.html?highlight=pytestconfig#std-fixture-pytestconfig">pytestconfig fixture</a>
object. This value is used to prepare the containers in
<a class="reference internal" href="#pytest_container.build.MultiStageBuild.containers" title="pytest_container.build.MultiStageBuild.containers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containers</span></code></a>.</p></li>
<li><p><strong>runtime</strong> – the container runtime to be used to perform the build. It
can be retrieved using the
<a class="reference internal" href="#pytest_container.plugin.container_runtime" title="pytest_container.plugin.container_runtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">pytest_container.plugin.container_runtime()</span></code></a> fixture.</p></li>
<li><p><strong>target</strong> – an optional target to which the build will be run, see <a class="reference external" href="https://docs.docker.com/develop/develop-images/multistage-build/#stop-at-a-specific-build-stage">the
upstream documentation</a>
for more information. Note that <strong>no</strong> verification of the
<code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> is performed prior to the
build. I.e. specifying an invalid target will fail your build.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Id of the target container or of the last one (when no target was
supplied) that was build</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.containerfile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">containerfile</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.build.MultiStageBuild.containerfile" title="Permalink to this definition">¶</a></dt>
<dd><p>The rendered <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> from the template supplied in
<a class="reference internal" href="#pytest_container.build.MultiStageBuild.containerfile_template" title="pytest_container.build.MultiStageBuild.containerfile_template"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containerfile_template</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.containerfile_template">
<span class="sig-name descname"><span class="pre">containerfile_template</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.build.MultiStageBuild.containerfile_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Template string of a <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code> where all containers from
<a class="reference internal" href="#pytest_container.build.MultiStageBuild.containers" title="pytest_container.build.MultiStageBuild.containers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containers</span></code></a> are inserted when retrieved via
<a class="reference internal" href="#pytest_container.build.MultiStageBuild.containerfile" title="pytest_container.build.MultiStageBuild.containerfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containerfile</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.containers">
<span class="sig-name descname"><span class="pre">containers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">DerivedContainer</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ParameterSet</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.build.MultiStageBuild.containers" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary mapping the container names used in
<a class="reference internal" href="#pytest_container.build.MultiStageBuild.containerfile_template" title="pytest_container.build.MultiStageBuild.containerfile_template"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containerfile_template</span></code></a> to
<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DerivedContainer</span></code></a> objects or
strings or any of the previous classes wrapped inside a <a class="reference external" href="https://docs.pytest.org/en/stable/reference.html?#pytest.param">pytest.param</a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.prepare_build">
<span class="sig-name descname"><span class="pre">prepare_build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.build.MultiStageBuild.prepare_build" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the multistage build: it writes the rendered <code class="file docutils literal notranslate"><span class="pre">Containerfile</span></code>
into <code class="docutils literal notranslate"><span class="pre">tmp_path</span></code> and prepares all containers in <a class="reference internal" href="#pytest_container.build.MultiStageBuild.containers" title="pytest_container.build.MultiStageBuild.containers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">containers</span></code></a> in
the given <code class="docutils literal notranslate"><span class="pre">rootdir</span></code>. Optional additional build arguments can be passed
to the preparation of the containers</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.build.MultiStageBuild.run_build_step">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_build_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_build_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#pytest_container.build.MultiStageBuild.run_build_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the multistage build in the given <code class="docutils literal notranslate"><span class="pre">tmp_path</span></code> using the supplied
<code class="docutils literal notranslate"><span class="pre">runtime</span></code>. This function requires <a class="reference internal" href="#pytest_container.build.MultiStageBuild.prepare_build" title="pytest_container.build.MultiStageBuild.prepare_build"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prepare_build()</span></code></a> to be run
beforehand.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmp_path</strong> – the path in which the build was prepared.</p></li>
<li><p><strong>runtime</strong> – the container runtime which will be used to perform the
build</p></li>
<li><p><strong>target</strong> – <p>an optional target to which the build will be run, see <a class="reference external" href="https://docs.docker.com/develop/develop-images/multistage-build/#stop-at-a-specific-build-stage">the
upstream documentation</a>
for more information</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Id of the final container that has been built</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pytest_container.runtime">
<span id="the-runtime-module"></span><h2>The runtime module<a class="headerlink" href="#module-pytest_container.runtime" title="Permalink to this heading">¶</a></h2>
<p>This module contains the container runtime classes abstracting away the
implementation details of container runtimes like <strong class="command">docker</strong> or
<strong class="command">podman</strong>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.DockerRuntime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">DockerRuntime</span></span><a class="headerlink" href="#pytest_container.runtime.DockerRuntime" title="Permalink to this definition">¶</a></dt>
<dd><p>The container runtime using <strong class="command">docker</strong> for building and running
containers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.DockerRuntime.inspect_container">
<span class="sig-name descname"><span class="pre">inspect_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><span class="pre">ContainerInspect</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.DockerRuntime.inspect_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspect the container with the provided <code class="docutils literal notranslate"><span class="pre">container_id</span></code> and return
the parsed output from the container runtime as an instance of
<a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerInspect</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.DockerRuntime.supports_healthcheck_inherit_from_base">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_healthcheck_inherit_from_base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.runtime.DockerRuntime.supports_healthcheck_inherit_from_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the container runtime supports that derived images
will inherit the healthcheck from the base image.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.DockerRuntime.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.runtime.Version" title="pytest_container.runtime.Version"><span class="pre">Version</span></a></em><a class="headerlink" href="#pytest_container.runtime.DockerRuntime.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the version of docker installed on this system</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeABC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">OciRuntimeABC</span></span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeABC" title="Permalink to this definition">¶</a></dt>
<dd><p>The abstract base class defining the interface of a container runtime.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeABC.get_container_health">
<span class="sig-name descname"><span class="pre">get_container_health</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.inspect.ContainerHealth" title="pytest_container.inspect.ContainerHealth"><span class="pre">ContainerHealth</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeABC.get_container_health" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspects the running container with the supplied id and returns its current
health.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeABC.inspect_container">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inspect_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><span class="pre">ContainerInspect</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeABC.inspect_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspect the container with the provided <code class="docutils literal notranslate"><span class="pre">container_id</span></code> and return
the parsed output from the container runtime as an instance of
<a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerInspect</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeABC.supports_healthcheck_inherit_from_base">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_healthcheck_inherit_from_base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.runtime.OciRuntimeABC.supports_healthcheck_inherit_from_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the container runtime supports that derived images
will inherit the healthcheck from the base image.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeABC.version">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.runtime.Version" title="pytest_container.runtime.Version"><span class="pre">Version</span></a></em><a class="headerlink" href="#pytest_container.runtime.OciRuntimeABC.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the container runtime.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">OciRuntimeBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">build_command:</span> <span class="pre">~typing.List[str]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runner_binary:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_runtime_functional:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class of the Container Runtimes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeBase.get_image_id_from_iidfile">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_image_id_from_iidfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iidfile_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeBase.get_image_id_from_iidfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the image id/hash from the iidfile that has been created by
the container runtime to store the image id after a build.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.OciRuntimeBase.get_image_size">
<span class="sig-name descname"><span class="pre">get_image_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_or_id_or_container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><span class="pre">pytest_container.container.Container</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><span class="pre">pytest_container.container.DerivedContainer</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.OciRuntimeBase.get_image_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the container’s size in bytes given an image id, a
<a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> or a
py:class:<cite>~pytest_container.container.DerivedContainer</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.PodmanRuntime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">PodmanRuntime</span></span><a class="headerlink" href="#pytest_container.runtime.PodmanRuntime" title="Permalink to this definition">¶</a></dt>
<dd><p>The container runtime using <strong class="command">podman</strong> for running containers and
<strong class="command">buildah</strong> for building containers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.PodmanRuntime.inspect_container">
<span class="sig-name descname"><span class="pre">inspect_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><span class="pre">ContainerInspect</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.PodmanRuntime.inspect_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspect the container with the provided <code class="docutils literal notranslate"><span class="pre">container_id</span></code> and return
the parsed output from the container runtime as an instance of
<a class="reference internal" href="#pytest_container.inspect.ContainerInspect" title="pytest_container.inspect.ContainerInspect"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerInspect</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.PodmanRuntime.supports_healthcheck_inherit_from_base">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_healthcheck_inherit_from_base</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.runtime.PodmanRuntime.supports_healthcheck_inherit_from_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the container runtime supports that derived images
will inherit the healthcheck from the base image.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.runtime.PodmanRuntime.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.runtime.Version" title="pytest_container.runtime.Version"><span class="pre">Version</span></a></em><a class="headerlink" href="#pytest_container.runtime.PodmanRuntime.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the version of podman installed on the system</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.ToParamMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">ToParamMixin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.runtime.ToParamMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixin class that gives child classes the ability to convert themselves into
a pytest.param with self.__str__() as the default id and optional marks</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.ToParamMixin.marks">
<span class="sig-name descname"><span class="pre">marks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.runtime.ToParamMixin.marks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.ToParamMixin.to_pytest_param">
<span class="sig-name descname"><span class="pre">to_pytest_param</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ParameterSet</span></span></span><a class="headerlink" href="#pytest_container.runtime.ToParamMixin.to_pytest_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this class into a <code class="docutils literal notranslate"><span class="pre">pytest.param</span></code></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.runtime.Version">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">Version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">major</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">release</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.runtime.Version" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a version of the form
<code class="docutils literal notranslate"><span class="pre">$major.$minor.$patch[-|+]$release</span> <span class="pre">build</span> <span class="pre">$build</span></code>.</p>
<p>This class supports basic comparison, e.g.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Version</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;foobar&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">Version</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note that the patch and release fields are optional and that the release and
build are not taken into account for less or greater than comparisons only
for equality or inequality. I.e.:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">release</span><span class="o">=</span><span class="s2">&quot;16&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">release</span><span class="o">=</span><span class="s2">&quot;16&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">Version</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Additionally you can also pretty print it:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">0.6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">0.6.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Version</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;asdf&quot;</span><span class="p">)</span>
<span class="go">0.6.1 build asdf</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.build">
<span class="sig-name descname"><span class="pre">build</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.runtime.Version.build" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.major">
<span class="sig-name descname"><span class="pre">major</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#pytest_container.runtime.Version.major" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.minor">
<span class="sig-name descname"><span class="pre">minor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#pytest_container.runtime.Version.minor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.parse">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.runtime.Version" title="pytest_container.runtime.Version"><span class="pre">Version</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.Version.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a version string and returns a constructed Version from that.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.patch">
<span class="sig-name descname"><span class="pre">patch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.runtime.Version.patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.runtime.Version.release">
<span class="sig-name descname"><span class="pre">release</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.runtime.Version.release" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.runtime.get_selected_runtime">
<span class="sig-prename descclassname"><span class="pre">pytest_container.runtime.</span></span><span class="sig-name descname"><span class="pre">get_selected_runtime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></span><a class="headerlink" href="#pytest_container.runtime.get_selected_runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the container runtime that the user selected.</p>
<p>It defaults to podman and selects docker if podman &amp; buildah are not
present. If podman and docker are both present, then docker is returned if
the environment variable <cite>CONTAINER_RUNTIME</cite> is set to <cite>docker</cite>.</p>
<p>If neither docker nor podman are available, then a ValueError is raised.</p>
</dd></dl>

</section>
<section id="module-pytest_container.inspect">
<span id="the-inspect-module"></span><h2>The inspect module<a class="headerlink" href="#module-pytest_container.inspect" title="Permalink to this heading">¶</a></h2>
<p>This module contains the class definitions that represent the output of
<strong class="command">$runtime inspect $ctr_id</strong>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.BindMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">BindMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.BindMount" title="Permalink to this definition">¶</a></dt>
<dd><p>A bind mounted directory</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tty</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">workingdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">healthcheck</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.HealthCheck" title="pytest_container.inspect.HealthCheck"><span class="pre">HealthCheck</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Container configuration obtained from the <code class="docutils literal notranslate"><span class="pre">Config</span></code> attribute in the
inspect of a container. It features the most useful attributes and those
that are common to both <strong class="command">podman</strong> and <strong class="command">docker</strong>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.cmd">
<span class="sig-name descname"><span class="pre">cmd</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.Config.cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>command defined in this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.entrypoint">
<span class="sig-name descname"><span class="pre">entrypoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.Config.entrypoint" title="Permalink to this definition">¶</a></dt>
<dd><p>the entrypoint of this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.env">
<span class="sig-name descname"><span class="pre">env</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.Config.env" title="Permalink to this definition">¶</a></dt>
<dd><p>environment variables set in the container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.healthcheck">
<span class="sig-name descname"><span class="pre">healthcheck</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.HealthCheck" title="pytest_container.inspect.HealthCheck"><span class="pre">HealthCheck</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.inspect.Config.healthcheck" title="Permalink to this definition">¶</a></dt>
<dd><p>optional healthcheck defined for the underlying container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.image">
<span class="sig-name descname"><span class="pre">image</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.Config.image" title="Permalink to this definition">¶</a></dt>
<dd><p>name of image used to launch this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.13)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.Config.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>labels of the container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.stop_signal">
<span class="sig-name descname"><span class="pre">stop_signal</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.Config.stop_signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal that will be sent to the container when it is stopped. If the
container does not terminate, <code class="docutils literal notranslate"><span class="pre">SIGKILL</span></code> will be used afterwards.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.tty">
<span class="sig-name descname"><span class="pre">tty</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.Config.tty" title="Permalink to this definition">¶</a></dt>
<dd><p>true if this container has a TTY attached</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.user">
<span class="sig-name descname"><span class="pre">user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.Config.user" title="Permalink to this definition">¶</a></dt>
<dd><p>User defined in the container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Config.workingdir">
<span class="sig-name descname"><span class="pre">workingdir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></em><a class="headerlink" href="#pytest_container.inspect.Config.workingdir" title="Permalink to this definition">¶</a></dt>
<dd><p>The working directory of the container</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerHealth">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">ContainerHealth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.ContainerHealth" title="Permalink to this definition">¶</a></dt>
<dd><p>Possible states of a container’s health using the <a class="reference external" href="https://docs.docker.com/engine/reference/builder/#healthcheck">HEALTHCHECK</a> property
of a container image.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerHealth.HEALTHY">
<span class="sig-name descname"><span class="pre">HEALTHY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'healthy'</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerHealth.HEALTHY" title="Permalink to this definition">¶</a></dt>
<dd><p>the container is healthy</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerHealth.NO_HEALTH_CHECK">
<span class="sig-name descname"><span class="pre">NO_HEALTH_CHECK</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerHealth.NO_HEALTH_CHECK" title="Permalink to this definition">¶</a></dt>
<dd><p>the container has no health check defined</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerHealth.STARTING">
<span class="sig-name descname"><span class="pre">STARTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'starting'</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerHealth.STARTING" title="Permalink to this definition">¶</a></dt>
<dd><p>the health check did not complete yet or did not fail often enough</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerHealth.UNHEALTHY">
<span class="sig-name descname"><span class="pre">UNHEALTHY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unhealthy'</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerHealth.UNHEALTHY" title="Permalink to this definition">¶</a></dt>
<dd><p>the healthcheck failed</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">ContainerInspect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.ContainerState" title="pytest_container.inspect.ContainerState"><span class="pre">ContainerState</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_hash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.Config" title="pytest_container.inspect.Config"><span class="pre">Config</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.ContainerNetworkSettings" title="pytest_container.inspect.ContainerNetworkSettings"><span class="pre">ContainerNetworkSettings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mounts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.BindMount" title="pytest_container.inspect.BindMount"><span class="pre">BindMount</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.VolumeMount" title="pytest_container.inspect.VolumeMount"><span class="pre">VolumeMount</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.ContainerInspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Common subset of the information exposed via <strong class="command">podman inspect</strong>
and <strong class="command">docker inspect</strong>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.args" title="Permalink to this definition">¶</a></dt>
<dd><p>arguments passed to <a class="reference internal" href="#pytest_container.inspect.ContainerInspect.path" title="pytest_container.inspect.ContainerInspect.path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">path</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.Config" title="pytest_container.inspect.Config"><span class="pre">Config</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.config" title="Permalink to this definition">¶</a></dt>
<dd><p>general configuration of the container (mostly inherited from the used image)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The container’s ID</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.image_hash">
<span class="sig-name descname"><span class="pre">image_hash</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.image_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>hash digest of the image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.mounts">
<span class="sig-name descname"><span class="pre">mounts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.BindMount" title="pytest_container.inspect.BindMount"><span class="pre">BindMount</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.VolumeMount" title="pytest_container.inspect.VolumeMount"><span class="pre">VolumeMount</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.mounts" title="Permalink to this definition">¶</a></dt>
<dd><p>volumes or bind mounts mounted in this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.name" title="Permalink to this definition">¶</a></dt>
<dd><p>the container’s name</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.network">
<span class="sig-name descname"><span class="pre">network</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.ContainerNetworkSettings" title="pytest_container.inspect.ContainerNetworkSettings"><span class="pre">ContainerNetworkSettings</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.network" title="Permalink to this definition">¶</a></dt>
<dd><p>Current network settings of this container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.path" title="Permalink to this definition">¶</a></dt>
<dd><p>program that has been launched inside the container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspect.state">
<span class="sig-name descname"><span class="pre">state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.ContainerState" title="pytest_container.inspect.ContainerState"><span class="pre">ContainerState</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspect.state" title="Permalink to this definition">¶</a></dt>
<dd><p>current state of the container</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">ContainerInspectHealthCheck</span></span><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary created by loading the json output of <strong class="command">podman inspect
$img_id | jq '.[0][&quot;Healthcheck]</strong> or <strong class="command">docker inspect $img_id | jq
'.[0][&quot;Config&quot;][&quot;Healthcheck]</strong>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck.Interval">
<span class="sig-name descname"><span class="pre">Interval</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck.Interval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck.Retries">
<span class="sig-name descname"><span class="pre">Retries</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck.Retries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck.StartPeriod">
<span class="sig-name descname"><span class="pre">StartPeriod</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck.StartPeriod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck.Test">
<span class="sig-name descname"><span class="pre">Test</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck.Test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerInspectHealthCheck.Timeout">
<span class="sig-name descname"><span class="pre">Timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerInspectHealthCheck.Timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerNetworkSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">ContainerNetworkSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ports:</span> <span class="pre">~typing.List[~pytest_container.inspect.PortForwarding]</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ip_address:</span> <span class="pre">~typing.Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.ContainerNetworkSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Network specific settings of a container.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerNetworkSettings.ip_address">
<span class="sig-name descname"><span class="pre">ip_address</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerNetworkSettings.ip_address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP Address of the container, if it has one</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerNetworkSettings.ports">
<span class="sig-name descname"><span class="pre">ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.inspect.PortForwarding" title="pytest_container.inspect.PortForwarding"><span class="pre">PortForwarding</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.ContainerNetworkSettings.ports" title="Permalink to this definition">¶</a></dt>
<dd><p>list of ports forwarded from the container to the host</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">ContainerState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">running</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">paused</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">restarting</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">oom_killed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dead</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">health</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.ContainerHealth" title="pytest_container.inspect.ContainerHealth"><span class="pre">ContainerHealth</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">ContainerHealth.NO_HEALTH_CHECK</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.ContainerState" title="Permalink to this definition">¶</a></dt>
<dd><p>State of the container, it is populated from the <code class="docutils literal notranslate"><span class="pre">State</span></code> attribute in
the inspect of a container.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.dead">
<span class="sig-name descname"><span class="pre">dead</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.dead" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the container is dead</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.health">
<span class="sig-name descname"><span class="pre">health</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.ContainerHealth" title="pytest_container.inspect.ContainerHealth"><span class="pre">ContainerHealth</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.health" title="Permalink to this definition">¶</a></dt>
<dd><p>status of the last health check run for this container image</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.oom_killed">
<span class="sig-name descname"><span class="pre">oom_killed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.oom_killed" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the container is has been killed by a Out Of Memory condition</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.paused">
<span class="sig-name descname"><span class="pre">paused</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.paused" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the container has been paused</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.pid">
<span class="sig-name descname"><span class="pre">pid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.pid" title="Permalink to this definition">¶</a></dt>
<dd><p>process id of the main container process</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.restarting">
<span class="sig-name descname"><span class="pre">restarting</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.restarting" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the container is restarting</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.running">
<span class="sig-name descname"><span class="pre">running</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.running" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the container is running</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.ContainerState.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.ContainerState.status" title="Permalink to this definition">¶</a></dt>
<dd><p>status of the container, e.g. <code class="docutils literal notranslate"><span class="pre">running</span></code>, <code class="docutils literal notranslate"><span class="pre">stopped</span></code>, etc.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">HealthCheck</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(seconds=30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">datetime.timedelta(seconds=30)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.HealthCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>The HEALTHCHECK of a container image.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.from_container_inspect">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_container_inspect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inspect_json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.ContainerInspectHealthCheck" title="pytest_container.inspect.ContainerInspectHealthCheck"><span class="pre">ContainerInspectHealthCheck</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.inspect.HealthCheck" title="pytest_container.inspect.HealthCheck"><span class="pre">HealthCheck</span></a></span></span><a class="headerlink" href="#pytest_container.inspect.HealthCheck.from_container_inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the json-loaded output of <strong class="command">podman inspect $ctr</strong> or
<strong class="command">docker inspect $ctr</strong> into a <a class="reference internal" href="#pytest_container.inspect.HealthCheck" title="pytest_container.inspect.HealthCheck"><code class="xref py py-class docutils literal notranslate"><span class="pre">HealthCheck</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.interval">
<span class="sig-name descname"><span class="pre">interval</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(seconds=30)</span></em><a class="headerlink" href="#pytest_container.inspect.HealthCheck.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>healthcheck command is run every interval</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.max_wait_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_wait_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></em><a class="headerlink" href="#pytest_container.inspect.HealthCheck.max_wait_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum time to wait until a container can become healthy</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.retries">
<span class="sig-name descname"><span class="pre">retries</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#pytest_container.inspect.HealthCheck.retries" title="Permalink to this definition">¶</a></dt>
<dd><p>how often the healthcheck command is retried</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.start_period">
<span class="sig-name descname"><span class="pre">start_period</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(0)</span></em><a class="headerlink" href="#pytest_container.inspect.HealthCheck.start_period" title="Permalink to this definition">¶</a></dt>
<dd><p>startup period of the container during which healthcheck failures will
not count towards the failure count</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.HealthCheck.timeout">
<span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.13)"><span class="pre">timedelta</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(seconds=30)</span></em><a class="headerlink" href="#pytest_container.inspect.HealthCheck.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>timeout of the healthcheck command after which it is considered unsuccessful</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.Mount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">Mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.Mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for mount points</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Mount.destination">
<span class="sig-name descname"><span class="pre">destination</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.Mount.destination" title="Permalink to this definition">¶</a></dt>
<dd><p>mount point in the container</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Mount.rw">
<span class="sig-name descname"><span class="pre">rw</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#pytest_container.inspect.Mount.rw" title="Permalink to this definition">¶</a></dt>
<dd><p>is this mount read-write?</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.Mount.source">
<span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.Mount.source" title="Permalink to this definition">¶</a></dt>
<dd><p>source folder on the host (if present)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.NetworkProtocol">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">NetworkProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.NetworkProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Network protocols supporting port forwarding.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.inspect.NetworkProtocol.SOCK_CONST">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SOCK_CONST</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.NetworkProtocol.SOCK_CONST" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the appropriate socket type constant (<code class="docutils literal notranslate"><span class="pre">SOCK_STREAM</span></code> or
<code class="docutils literal notranslate"><span class="pre">SOCK_DGRAM</span></code>) for the current protocol.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.NetworkProtocol.TCP">
<span class="sig-name descname"><span class="pre">TCP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tcp'</span></em><a class="headerlink" href="#pytest_container.inspect.NetworkProtocol.TCP" title="Permalink to this definition">¶</a></dt>
<dd><p>Transmission Control Protocol</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.NetworkProtocol.UDP">
<span class="sig-name descname"><span class="pre">UDP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'udp'</span></em><a class="headerlink" href="#pytest_container.inspect.NetworkProtocol.UDP" title="Permalink to this definition">¶</a></dt>
<dd><p>User Datagram Protocol</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">PortForwarding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.inspect.NetworkProtocol" title="pytest_container.inspect.NetworkProtocol"><span class="pre">NetworkProtocol</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">NetworkProtocol.TCP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bind_ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.PortForwarding" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a port forward from a container to the host.</p>
<p>To expose a port of a container automatically, create an instance of this
class, set the attribute <a class="reference internal" href="#pytest_container.inspect.PortForwarding.container_port" title="pytest_container.inspect.PortForwarding.container_port"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_port</span></code></a> and optionally
<a class="reference internal" href="#pytest_container.inspect.PortForwarding.protocol" title="pytest_container.inspect.PortForwarding.protocol"><code class="xref py py-attr docutils literal notranslate"><span class="pre">protocol</span></code></a> as well and pass it via the parameter
<a class="reference internal" href="#pytest_container.container.ContainerBase.forwarded_ports" title="pytest_container.container.ContainerBase.forwarded_ports"><code class="xref py py-attr docutils literal notranslate"><span class="pre">forwarded_ports</span></code></a> to
either the <a class="reference internal" href="#pytest_container.container.Container" title="pytest_container.container.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytest_container.container.Container</span></code></a> or
<a class="reference internal" href="#pytest_container.container.DerivedContainer" title="pytest_container.container.DerivedContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytest_container.container.DerivedContainer</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Container</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;my-webserver&quot;</span><span class="p">,</span> <span class="n">forwarded_ports</span><span class="o">=</span><span class="p">[</span><span class="n">PortForwarding</span><span class="p">(</span><span class="n">container_port</span><span class="o">=</span><span class="mi">8000</span><span class="p">)])</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding.bind_ip">
<span class="sig-name descname"><span class="pre">bind_ip</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#pytest_container.inspect.PortForwarding.bind_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address to which to bind. By default, it will be ‘::’ (all addresses).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding.container_port">
<span class="sig-name descname"><span class="pre">container_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><a class="headerlink" href="#pytest_container.inspect.PortForwarding.container_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port which shall be exposed by the container.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding.forward_cli_args">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">forward_cli_args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#pytest_container.inspect.PortForwarding.forward_cli_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of command line arguments for the container launch
command to automatically expose this port forwarding.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding.host_port">
<span class="sig-name descname"><span class="pre">host_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#pytest_container.inspect.PortForwarding.host_port" title="Permalink to this definition">¶</a></dt>
<dd><p>The port as which the port from <a class="reference internal" href="#pytest_container.inspect.PortForwarding.container_port" title="pytest_container.inspect.PortForwarding.container_port"><code class="xref py py-attr docutils literal notranslate"><span class="pre">container_port</span></code></a> is exposed on
the host. This value is automatically set by the <cite>*container_*</cite> fixtures,
so there’s no need for the user to modify it</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.PortForwarding.protocol">
<span class="sig-name descname"><span class="pre">protocol</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#pytest_container.inspect.NetworkProtocol" title="pytest_container.inspect.NetworkProtocol"><span class="pre">NetworkProtocol</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tcp'</span></em><a class="headerlink" href="#pytest_container.inspect.PortForwarding.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>The protocol which the exposed port is using. Defaults to TCP.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pytest_container.inspect.VolumeMount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pytest_container.inspect.</span></span><span class="sig-name descname"><span class="pre">VolumeMount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rw</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">driver</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytest_container.inspect.VolumeMount" title="Permalink to this definition">¶</a></dt>
<dd><p>A volume mount</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.VolumeMount.driver">
<span class="sig-name descname"><span class="pre">driver</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.VolumeMount.driver" title="Permalink to this definition">¶</a></dt>
<dd><p>driver that is backing this volume</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pytest_container.inspect.VolumeMount.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#pytest_container.inspect.VolumeMount.name" title="Permalink to this definition">¶</a></dt>
<dd><p>name/hash of this volume</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pytest_container.helpers">
<span id="the-helpers-module"></span><h2>The helpers module<a class="headerlink" href="#module-pytest_container.helpers" title="Permalink to this heading">¶</a></h2>
<p>The helpers module contains various functions for adding &amp; retrieving command
line flags from pytest and for automatically parametrizing tests using the
<code class="docutils literal notranslate"><span class="pre">auto_container*</span></code> fixtures.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.add_extra_run_and_build_args_options">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">add_extra_run_and_build_args_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Parser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.helpers.add_extra_run_and_build_args_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the command line flags <code class="docutils literal notranslate"><span class="pre">--extra-run-args</span></code>, <code class="docutils literal notranslate"><span class="pre">--extra-build-args</span></code>
and <code class="docutils literal notranslate"><span class="pre">--extra-pod-create-args</span></code> to the pytest parser.</p>
<p>The parameters of these flags are used by the <code class="docutils literal notranslate"><span class="pre">*container*</span></code> and <code class="docutils literal notranslate"><span class="pre">pod*</span></code>
fixtures and can be retrieved via <a class="reference internal" href="#pytest_container.helpers.get_extra_run_args" title="pytest_container.helpers.get_extra_run_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extra_run_args()</span></code></a>,
<a class="reference internal" href="#pytest_container.helpers.get_extra_build_args" title="pytest_container.helpers.get_extra_build_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extra_build_args()</span></code></a> and <a class="reference internal" href="#pytest_container.helpers.get_extra_pod_create_args" title="pytest_container.helpers.get_extra_pod_create_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_extra_pod_create_args()</span></code></a>
respectively.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.add_logging_level_options">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">add_logging_level_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Parser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.helpers.add_logging_level_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the command line parameter <code class="docutils literal notranslate"><span class="pre">--pytest-container-log-level</span></code> to the pytest
parser. The user can then configure the log level of this pytest plugin.</p>
<p>This function needs to be called in your <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code> in
<code class="docutils literal notranslate"><span class="pre">pytest_addoption</span></code>. To actually set the log level, you need to call
<a class="reference internal" href="#pytest_container.helpers.set_logging_level_from_cli_args" title="pytest_container.helpers.set_logging_level_from_cli_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_logging_level_from_cli_args()</span></code></a> as well.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.auto_container_parametrize">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">auto_container_parametrize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metafunc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Metafunc</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.helpers.auto_container_parametrize" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to automatically parametrize the <code class="docutils literal notranslate"><span class="pre">auto_container_*</span></code>
fixtures.</p>
<p>Use it by adding the following code snippet to <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pytest_container</span> <span class="kn">import</span> <span class="n">auto_container_parametrize</span>

<span class="k">def</span> <span class="nf">pytest_generate_tests</span><span class="p">(</span><span class="n">metafunc</span><span class="p">):</span>
    <span class="n">auto_container_parametrize</span><span class="p">(</span><span class="n">metafunc</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.get_always_pull_option">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">get_always_pull_option</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#pytest_container.helpers.get_always_pull_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether images should be always pulled before launching the
container or whether the container runtime can use the locally cached
image. This setting is controlled via the environment variable
<code class="docutils literal notranslate"><span class="pre">PULL_ALWAYS</span></code>. If the environment variable is unset, then the default is
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.get_extra_build_args">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">get_extra_build_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.helpers.get_extra_build_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Get any extra arguments for <strong class="command">buildah bud</strong> or <strong class="command">docker
build</strong> that were passed via the CLI flag <code class="docutils literal notranslate"><span class="pre">--extra-build-args</span></code>.</p>
<p>This requires that <a class="reference internal" href="#pytest_container.helpers.add_extra_run_and_build_args_options" title="pytest_container.helpers.add_extra_run_and_build_args_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_extra_run_and_build_args_options()</span></code></a> was
called in <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.get_extra_pod_create_args">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">get_extra_pod_create_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.helpers.get_extra_pod_create_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all extra arguments for <strong class="command">podman pod create</strong> that were passed
via the CLI flag <code class="docutils literal notranslate"><span class="pre">--extra-pod-create-args</span></code>.</p>
<p>This requires that <a class="reference internal" href="#pytest_container.helpers.add_extra_run_and_build_args_options" title="pytest_container.helpers.add_extra_run_and_build_args_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_extra_run_and_build_args_options()</span></code></a> was
called in <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.get_extra_run_args">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">get_extra_run_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.helpers.get_extra_run_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Get any extra arguments for <strong class="command">podman run</strong> or <strong class="command">docker run</strong>
that were passed via the CLI flag <code class="docutils literal notranslate"><span class="pre">--extra-run-args</span></code>.</p>
<p>This requires that <a class="reference internal" href="#pytest_container.helpers.add_extra_run_and_build_args_options" title="pytest_container.helpers.add_extra_run_and_build_args_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_extra_run_and_build_args_options()</span></code></a> was
called in <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.helpers.set_logging_level_from_cli_args">
<span class="sig-prename descclassname"><span class="pre">pytest_container.helpers.</span></span><span class="sig-name descname"><span class="pre">set_logging_level_from_cli_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.helpers.set_logging_level_from_cli_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the internal logging level of this plugin to the value supplied by the
cli argument <code class="docutils literal notranslate"><span class="pre">--pytest-container-log-level</span></code>.</p>
<p>This function has to be called before all tests get executed, but after the
parser option has been added. A good place is for example the
<a class="reference external" href="https://docs.pytest.org/en/latest/reference/reference.html#_pytest.hookspec.pytest_configure">pytest_configure</a>
hook which has to be added to <code class="file docutils literal notranslate"><span class="pre">conftest.py</span></code>.</p>
</dd></dl>

</section>
<section id="module-pytest_container.plugin">
<span id="the-plugin-module"></span><h2>The plugin module<a class="headerlink" href="#module-pytest_container.plugin" title="Permalink to this heading">¶</a></h2>
<p>The plugin module contains all fixtures that are provided by
<code class="docutils literal notranslate"><span class="pre">pytest_container</span></code>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.auto_container">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">auto_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.auto_container" title="Permalink to this definition">¶</a></dt>
<dd><p>This fixture parametrizes the test function once for each container image
defined in the module level variable <code class="docutils literal notranslate"><span class="pre">CONTAINER_IMAGES</span></code> of the current test
module and yield an instance of
<a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ContainerData</span></code></a>.
This fixture will reuse the same container for all tests of the same session.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.auto_container_per_test">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">auto_container_per_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.auto_container_per_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#pytest_container.plugin.auto_container" title="pytest_container.plugin.auto_container"><code class="xref py py-func docutils literal notranslate"><span class="pre">auto_container()</span></code></a> but it will launch individual containers
for each test function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.container">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.container" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixture that expects to be parametrized with an instance of a subclass of
<a class="reference internal" href="#pytest_container.container.ContainerBase" title="pytest_container.container.ContainerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContainerBase</span></code></a> with <cite>indirect=True</cite>.
It will launch the container and yield an instance of
<a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ContainerData</span></code></a>.
This fixture will reuse the same container for all tests of the same session.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.container_per_test">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">container_per_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.container.ContainerData" title="pytest_container.container.ContainerData"><span class="pre">ContainerData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.container_per_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#pytest_container.plugin.container" title="pytest_container.plugin.container"><code class="xref py py-func docutils literal notranslate"><span class="pre">container()</span></code></a> but it will launch individual containers for
each test function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.container_runtime">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">container_runtime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></span><a class="headerlink" href="#pytest_container.plugin.container_runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>pytest fixture that returns the currently selected container runtime
according to the rules outlined <a class="reference internal" href="prerequisites.html#runtime-selection-rules"><span class="std std-ref">here</span></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.pod">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">pod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.pod.PodData" title="pytest_container.pod.PodData"><span class="pre">PodData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.pod" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixture that has to be parametrized with an instance of
<a class="reference internal" href="#pytest_container.pod.Pod" title="pytest_container.pod.Pod"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pod</span></code></a> with <cite>indirect=True</cite>.
It creates the pod, launches all of its containers and yields an instance of
<a class="reference internal" href="#pytest_container.pod.PodData" title="pytest_container.pod.PodData"><code class="xref py py-class docutils literal notranslate"><span class="pre">PodData</span></code></a>. The fixture automatically skips
the test when the current container runtime is not <strong class="command">podman</strong>.
The pod created by this fixture is shared by all test functions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.plugin.pod_per_test">
<span class="sig-prename descclassname"><span class="pre">pytest_container.plugin.</span></span><span class="sig-name descname"><span class="pre">pod_per_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container_runtime</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pytest_container.runtime.OciRuntimeBase" title="pytest_container.runtime.OciRuntimeBase"><span class="pre">OciRuntimeBase</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pytestconfig</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.13)"><span class="pre">Generator</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pytest_container.pod.PodData" title="pytest_container.pod.PodData"><span class="pre">PodData</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pytest_container.plugin.pod_per_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#pytest_container.plugin.pod" title="pytest_container.plugin.pod"><code class="xref py py-func docutils literal notranslate"><span class="pre">pod()</span></code></a>, except that it creates a pod for each test function.</p>
</dd></dl>

</section>
<section id="module-pytest_container.logging">
<span id="the-logging-module"></span><h2>The logging module<a class="headerlink" href="#module-pytest_container.logging" title="Permalink to this heading">¶</a></h2>
<p>The logging module handles everything related to logging (unsurprisingly).</p>
<dl class="py function">
<dt class="sig sig-object py" id="pytest_container.logging.set_internal_logging_level">
<span class="sig-prename descclassname"><span class="pre">pytest_container.logging.</span></span><span class="sig-name descname"><span class="pre">set_internal_logging_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#pytest_container.logging.set_internal_logging_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the verbosity of the internal logger to the specified level.</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pytest_container</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixtures.html">Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.container">The container module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.pod">The pod module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.build">The build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.runtime">The runtime module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.inspect">The inspect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.helpers">The helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.plugin">The plugin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-pytest_container.logging">The logging module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="changelog.html" title="previous chapter">Changelog</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;Dan Čermák.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>